<template>
	<div>
				<v-container fluid class="eais__readerform">
						<v-layout row wrap>

							<v-flex md2 py-1>
								<span class="body-1">№</span>
								<span class="subheading font-weight-medium">5988</span>
							</v-flex>

							<v-flex md3 py-1>
								<span class="body-1">ЦЗН:</span>
								<span class="subheading font-weight-medium">АЗН Колпинского района</span>
							</v-flex>


							<v-flex md3 py-1>
								<span class="body-1">Телефон: </span>
								<span class="subheading font-weight-medium">+7(912)121-21-21</span>
							</v-flex>

							<v-flex md3 py-1>
								<span class="body-1">Списочная численность:</span>
								<span class="body-1">
						        <span class="subheading font-weight-medium">75</span>
						        в т.ч. иностранных рабочих:
						        <span class="subheading font-weight-medium">87</span>
						    </span>
							</v-flex>

							<v-flex md12 py-1>
								<v-divider></v-divider>
							</v-flex>

							<v-flex md2 py-1>
								<span class="body-1">Вид высвобождения:</span>
								<span class="subheading font-weight-medium">Массовое</span>
							</v-flex>


							<v-flex md3 py-1>
								<span class="body-1">Основание:</span>
								<span class="subheading font-weight-medium">Сокращение</span>
							</v-flex>

							<v-flex md3 py-1>
								<span class="body-1">Увольнение:</span>
								<span class="subheading font-weight-medium">Плановое</span>
							</v-flex>

							<v-flex md3 py-1>
								<span class="body-1">Период высвобождения:</span>
								<span class="body-1">С
						        <span class="subheading font-weight-medium">22.07.2018</span>
						        по
						        <span class="subheading font-weight-medium">22.07.2018</span>
						    </span>
							</v-flex>

							<v-flex md11 mt-3 py-1>
							<!--  Рома! нужно автоматически добавить чипсину, заполненную в текстфилде при выборе "Иное", а саму чипсину "Иное не показывать"  -->
								<span class="body-1">Наличие факторов кризисного состояния: </span>
									<span class="subheading font-weight-medium">
										<v-chip small>Трудности с выплатой кредитов</v-chip>
										<v-chip small>Наличие антикризисного управляющего</v-chip>
										<v-chip small>Денег нет</v-chip>
									</span>
								</span>
							</v-flex>

							<v-flex md12 py-1>
								<v-divider></v-divider>
							</v-flex>


							<v-flex md11 py-1>
								<span class="body-2" >Численность предполагаемых к увольнению</span>
							</v-flex>

							<v-flex md2 py-1>
								<span class="body-1">Сокращение:</span>
								<span class="subheading font-weight-medium" >88</span>
							</v-flex>


							<v-flex md3 py-1>
								<span class="body-1">По инициативе работника:</span>
								<span class="subheading font-weight-medium " >0</span>
							</v-flex>

							<v-flex md3 py-1>
								<span class="body-1">Соглашение: </span>
								<span class="subheading font-weight-medium">33</span>
							</v-flex>

							<v-flex md4 py-1>
								<span class="body-1">Всего: </span>
								<span class="body-1">
							        <span class="subheading font-weight-medium">99</span>
							        из них ИР:
							        <span class="subheading font-weight-medium">2</span>, пенсионеров:
							        <span class="subheading font-weight-medium">2</span>
							    </span>
							</v-flex>



							<v-flex md4 py-1>
								<span class="body-1">Основание высвобождения:</span>
								<span class="body-1"> Приказ №
							        <span class="subheading font-weight-medium">34535</span>
							        от
							        <span class="subheading font-weight-medium">22.11.2018</span>
							    </span>
							</v-flex>

							<v-flex md4 py-1>
								<span class="body-1">Причина:</span>
								<span class="subheading font-weight-medium">Уменьшение объемов</span>
							</v-flex>

							<v-flex md3 py-1>
								<span class="body-1">Примечание:</span>
								<span class="subheading font-weight-medium">ул. Партизана Германа, д. 2</span>
							</v-flex>

							<v-flex md12 py-1>
								<v-divider></v-divider>
							</v-flex>

							<v-flex md4 py-1>
								<span class="body-1">Дата подачи уведомления: </span>
								<span class="subheading font-weight-medium">23.11.2018</span>
							</v-flex>

							<v-flex md4 py-1>
								<span class="body-1">Снятие с учета: </span>
								<span class="subheading font-weight-medium">23.12.2018</span>
							</v-flex>

							<v-flex md3 py-1>
								<span class="body-1">Несостоявшееся высвобождение:</span>
								<span class="subheading font-weight-medium">23.12.2018</span>
							</v-flex>

							<v-flex md12 py-1>
								<v-divider></v-divider>
							</v-flex>

							<v-flex md11 py-1>
								<span class="body-2">Планируемые показатели</span>
							</v-flex>

							<v-flex md4 py-1>
								<span class="body-1">Всего будет трудоустроено:</span>
								<span class="body-1">
						        <span class="subheading font-weight-medium">75</span>
						        в т.ч. на данном предприятии:
						        <span class="subheading font-weight-medium">22</span>
						    </span>
							</v-flex>

							<v-flex md4 py-1>
								<span class="body-1">Будет оформлена пенсия:</span>
								<span class="subheading font-weight-medium">0</span>
							</v-flex>

							<v-flex md3 py-1>
								<span class="body-1">Обратиться в СЗ:</span>
								<span class="subheading font-weight-medium">0</span>
							</v-flex>

							<v-flex md1 py-1>
								<div class="text-xs-right mrm-4">
									<v-btn class="ma-0" icon @click="editNewDialog = true" right>
										<v-icon color="primary">edit</v-icon>
									</v-btn>
								</div>
							</v-flex>

						</v-layout>
				</v-container>

				<v-dialog v-model="editNewDialog" max-width="1100">
		        <v-card>
			      	<v-card-title class="headline">Информация о высвобождении работников</v-card-title>

		            <v-container fluid grid-list-xl>
		                <v-layout row wrap>

											<v-flex md2  py-1>
	                    	<v-text-field label="№" value='7878' readonly></v-text-field>
	                    </v-flex>

	                    <v-flex md5  py-1>
	                    	<v-autocomplete label="ЦЗН" :no-data-text="noDataText"></v-autocomplete>
	                    </v-flex>

	                    <v-flex md2  py-1>
	                    	<v-text-field label="Телефон" mask='phone'></v-text-field>
	                    </v-flex>


	                    <v-flex md3 py-1>
				            		<v-text-field label="Всего занятых на предприятии"  mask='#######'></v-text-field>
				        			</v-flex>

	                    <v-flex md2 py-1>
				            		<v-text-field label="в т.ч. ИР" mask='#######'></v-text-field>
				        			</v-flex>


	                    <v-flex md3  py-1>
	                    	<v-select
		                        menu-props="auto"
		                        :items="items1"
		                        label="Вид"
				                return-object
				                single-line
				                getFullSelect></v-select>
	                    </v-flex>

	                    <v-flex m4  py-1>
		                    <v-select
		                      menu-props="auto"
		                      :items="items2"
		                      label="Основание"
				              return-object
				              single-line
		                    ></v-select>
	                    </v-flex>

	                    <v-flex md3  py-1>
	                    	<v-select
		                      menu-props="auto"
		                      :items="items3"
		                      label="Увольнение"
				              return-object
				              single-line
	                    	></v-select>
	                    </v-flex>

	                    <v-flex md12 py-1>
	                    <!--  По умолчанию должны быть выбраны все значения  -->
		                    <v-select
		                      menu-props="auto"
		                      :items="items4"
		                      label="Наличие факторов кризисного состояния"
				              return-object
				              single-line
				              chips
				              multiple
				              append-item
				              single-line
			                      v-model='select'
			                      getFullSelect
			                      @click='getFullSelect'
		                    ></v-select>
	                    </v-flex>

	                    <v-flex md3 py-1>
				            <v-text-field
				            	label="Иные факторы"
				            ></v-text-field>
				        </v-flex>

				        <v-flex md3 py-1>
				            <v-text-field
				            	label="Причина высвобождения"
				            ></v-text-field>
				        </v-flex>

				        <v-flex md3 py-1>
	                    	<date-picker timeLabel="Дата начала высвоб."></date-picker>
	                    </v-flex>

	                    <v-flex md3 py-1>
	                    	<date-picker timeLabel="Дата окончания"></date-picker>
	                    </v-flex>

	                    <v-flex md12 py-1>
				            <v-label>Численность предполагаемых к увольнению:</v-label>
				        </v-flex>

	                    <v-flex md2 py-1>
				            <v-text-field
				            	label="Сокращение" mask='#######'
				            ></v-text-field>
				        </v-flex>

				        <v-flex md2 py-1>
				            <v-text-field
				            	label="По иниц. работника" mask='#######'
				            ></v-text-field>
				        </v-flex>

				        <v-flex md2 py-1>
				            <v-text-field
				            	label="Соглашение" mask='#######'
				            ></v-text-field>
				        </v-flex>

				        <v-flex md2 py-1>
				            <v-text-field
				            	label="Всего" mask='#######'
				            ></v-text-field>
				        </v-flex>

				        <v-flex md2 py-1>
				            <v-text-field
				            	label="в т.ч. ИР" mask='#######'
				            ></v-text-field>
				        </v-flex>

				        <v-flex md2 py-1>
				            <v-text-field
				            	label="в т.ч. пенсионеры" mask='#######'
				            ></v-text-field>
				        </v-flex>

				        <v-flex md3 py-1>
				            <v-text-field
				            	label="Основание: Приказ №"
				            ></v-text-field>
				        </v-flex>

				        <v-flex md3 py-1>
				            <date-picker timeLabel="от"></date-picker>
				        </v-flex>


				        <v-flex md3 py-1>
				             <date-picker timeLabel="Дата уведомления"></date-picker>
				        </v-flex>

				        <v-flex md3 py-1>
				            <date-picker timeLabel="Снятие с учета"></date-picker>
				        </v-flex>

						<v-flex md3 py-1 pr-1>
							<v-text-field
				            	label="Всего будет трудоустроено"  mask='#######'
				            ></v-text-field>
						</v-flex>

						<v-flex md3 py-1 >
							<v-text-field
				            	label="в т.ч. на данном предприятии"  mask='#######'
				            ></v-text-field>
						</v-flex>

						<v-flex md3 py-1>
							<v-text-field
				            	label="Будет оформлена пенсия"  mask='#######'
				            ></v-text-field>
						</v-flex>

						<v-flex md3 py-1>
							<v-text-field
				            	label="Обратиться в СЗ"  mask='#######'
				            ></v-text-field>
						</v-flex>

						<v-flex md3 py-1>
				            <date-picker timeLabel="Несостоявшееся высвобождение" ></date-picker>
				        </v-flex>

				        <v-flex md9 py-1>
				            <v-text-field
				            	label="Примечание"
				            ></v-text-field>
				        </v-flex>


		                </v-layout>
		            </v-container>

								<v-card-actions>
		                <v-spacer></v-spacer>

		                <v-btn v-if="isNew" color="primary" flat="flat" @click="editNewDialog = false">
		                    Отменить
		                </v-btn>

		                <v-btn v-if="!isNew" color="primary" flat="flat" @click="editNewDialog = false">
		                    Продолжить
		                </v-btn>

		                <v-btn v-if="isNew" color="primary" flat="flat" @click="createItemVal(items, 'contacts')">
		                    Создать
		                </v-btn>
		            </v-card-actions>
		        </v-card>
		    </v-dialog>

	</div>
</template>

<style>
span.body-1:first-letter {text-transform: capitalize;}
.eais__readerform .body-1 {color: rgba(0, 0, 0, 0.50);}
.eais__readerform .subheading:empty::before {content: "\2014";}
.eais__readerform .subheading {color: #464D69;}
</style>

<script>

export default {
	props: ['oneItem'],
	data: () => ({
		ownerTypeAr: [
			'организация',
			'предприниматель',
			'иногороднее',
			'филиал'
		],
		select:'',
		switch1: false,
		noDataText: 'Нет данных',
		isNew: false,
		editNewDialog: false,
		dateMenu01: false,
		dateMenu02: false,
		dateMenu03: false,
		dateMenu04: false,
		date01: null,
		date02: null,
		date03: null,
		date04: null,
    noDataText: 'Нет данных',
		items1: ['Массовое', 'Немассовое'],
		items2: ['Сокращение', 'Ликвидация'],
		items3: ['Плановое', 'Связанное с кризисом'],
		items4: ['Трудности с выплатой кредитов', 'Падение спроса на продукцию', 'Проблемы с поставкой сырья', 'Наличие антикризисного управляющего', 'Иные факторы']
	}),
	mounted() {
		this.getEmplCenters();
	},
	computed: {
		EmplCenters () {
			return this.$store.state.eais.EmplCenters;
		}
	},
  components: {
  },
	methods: {
		getFullSelect() {
			const defSelectNum = this.items1.findIndex(x => x.id === this.select)
			this.select = this.items1[defSelectNum]
		},
		getEmplCenters() {
			this.$store.dispatch('getEmplCenters');
		},
		returnId() {
			console.log(this.oneItem.data.emplCenterId);
		}
	}
}

</script>
